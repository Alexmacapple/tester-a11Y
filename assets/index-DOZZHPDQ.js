(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function t(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(r){if(r.ep)return;r.ep=!0;const n=t(r);fetch(r.href,n)}})();const l="/tester-a11y",L="Démo accessibilité numérique";window.onload=()=>{c("components/main/main.html").then(a=>{document.querySelector("#app").innerHTML=a,E()})};function E(){customElements.define("router-outlet",w),customElements.define("router-link",S),customElements.define("custom-header",v),customElements.define("custom-footer",k),customElements.define("custom-picture",T),customElements.define("custom-alert",C)}class v extends HTMLElement{async connectedCallback(){this.innerHTML=await c("components/header/header.html"),this.initTheme(),b()}initTheme(){const e=localStorage.getItem("theme");e?this.setTheme(e):window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?this.setTheme("dark"):this.setTheme("light");const t=document.getElementById("btnLight");t&&(t.onclick=()=>this.setTheme("light"));const s=document.getElementById("btnDark");s&&(s.onclick=()=>this.setTheme("dark"))}setTheme(e){var t=document.querySelectorAll(".theme-switcher-buttons button");t.forEach(s=>{s.getAttribute("data-theme")===e?s.setAttribute("aria-pressed",!0):s.setAttribute("aria-pressed",!1)}),document.documentElement.setAttribute("data-selected-theme",e),localStorage.setItem("theme",e)}}class k extends HTMLElement{async connectedCallback(){this.innerHTML=await c("components/footer/footer.html")}}class T extends HTMLElement{constructor(){super()}connectedCallback(){let e=document.createElement("img");e.alt=this.attributes.alt.value,e.src=this.attributes.src.value,e.setAttribute("lazy","loading"),this.attributes.style&&(e.style=this.attributes.style.value),this.attributes.class&&this.attributes.class.value.split(" ").forEach(t=>{e.classList.add(t)}),this.appendChild(e)}}class w extends HTMLElement{constructor(){super(),window.addEventListener("popstate",()=>this.handleRoute())}async connectedCallback(){await this.handleRoute()}async handleRoute(){const e=window.location.pathname.replace(l,"");let t="",s="";switch(e){case"/":s="pages/accueil.html",t="Accueil";break;case"/les-contrastes":s="pages/les-contrastes.html",t="Testons les contrastes";break;case"/la-langue":s="pages/cas-pratique-2.html",t="Testons la langue";break;case"/les-images":s="pages/les-images.html",t="Les images";break;case"/les-formulaires":s="pages/les-formulaires.html",t="Les formulaires";break;case"/cas-pratique-5":s="pages/cas-pratique-5.html",t="Cas pratique n°5 : les liens";break;case"/cas-pratique-6":s="pages/cas-pratique-6.html",t="Cas pratique n°6 : les boutons";break;case"/ci-cd":s="pages/ci-cd.html",t="Tests automatisés";break;case"/bonus":s="pages/bonus.html",t="Bonus";break;case"/faq":s="pages/faq.html",t="Foire aux questions";break;case"/ressources":s="pages/ressources.html",t="Ressources";break;case"/a-propos":s="pages/a-propos.html",t="A propos";break;default:s="pages/erreur.html",t="Erreur 404"}this.innerHTML=await c(s),document.title=`${t} - ${L}`,e==="/la-langue"?document.documentElement.setAttribute("lang","en"):document.documentElement.setAttribute("lang","fr"),this.initJavascript(e),this.setCurrentPage(document.title)}setCurrentPage(e){document.getElementById("title-page").innerHTML=e}async navigate(e){window.history.pushState({},"",e),await this.handleRoute()}initJavascript(e){if(e==="/les-images"&&document.getElementById("show-button").addEventListener("click",t=>{x(".images");const s=t.target;document.querySelector(".hidden")!==null?s.innerText="Afficher les images":s.innerText="Cacher les images"}),e==="/les-formulaires"){const t=document.getElementById("btnSubmitBad");t&&t.addEventListener("click",()=>{const n=document.getElementById("form-bad").querySelectorAll("input");for(const i of n)i.value.trim()!==""?(i.style.borderColor="",i.style.borderWidth=""):(i.style.borderColor="red",i.style.borderWidth="2px")});const s=document.getElementById("btnSubmitGood");s&&s.addEventListener("click",()=>{const n=document.getElementById("form-good").querySelectorAll("input");let i=!1;for(const o of n){let u=o.value.trim()!=="",d="";o.type==="email"&&u&&(u=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.value),u||(d="Le format de l'email est invalide (ex: nom@domaine.fr)"));const m=o.closest(".fr-input-group"),h=m.querySelector(".fr-error-text"),y=m.querySelector(".fr-label");if(u)o.classList.remove("fr-input--error"),m.classList.remove("fr-input-group--error"),o.ariaInvalid=!1,h.innerText="";else if(i=!0,o.classList.add("fr-input--error"),m.classList.add("fr-input-group--error"),o.ariaInvalid=!0,d)h.innerText=d;else{const f=y.childNodes[0].textContent.trim();h.innerText=`Le champ ${f} est obligatoire`}}if(i){p("error","Certains champs sont incomplets ou invalides !");const o=document.querySelector("[aria-invalid=true]");o&&o.focus()}else p("success","Formulaire valide ! Tous les champs sont remplis correctement.")})}}}async function c(a){const e=await fetch(`${l}/${a}`);if(!e.ok)throw new Error("Erreur lors du chargement du fichier HTML : "+e.statusText);return await e.text()}function q(a){const e=document.createElement("link");e.rel="stylesheet",e.type="text/css",e.href=`${l}/${a}`,document.head.appendChild(e)}function b(){document.querySelectorAll("router-link").forEach(e=>{let t=e.querySelector("a");window.location.pathname.replace(l,"")===e.attributes.href.value?(t.setAttribute("aria-current","page"),t.classList.add("active")):(t.removeAttribute("aria-current"),t.classList.remove("active")),t.addEventListener("click",()=>{b()})})}class S extends HTMLElement{constructor(){super()}connectedCallback(){const e=document.createElement("a"),t=l+this.attributes.href.value;e.href=t,e.text=this.attributes.title.value,e.onclick=s=>{s.preventDefault(),document.querySelector("router-outlet").navigate(t)},this.appendChild(e)}}function x(a){const e=document.querySelector(a);e&&(e.classList.contains("hidden")?e.classList.remove("hidden"):e.classList.add("hidden"))}class C extends HTMLElement{async connectedCallback(){q("components/alert/alert.scss"),this.innerHTML=await c("components/alert/alert.html")}}function p(a,e){let t="",s="";switch(a){case"info":t="fa-circle-info",s="info";break;case"success":t="fa-circle-check",s="success";break;case"error":t="fa-circle-exclamation",s="error";break;default:return}const r=document.querySelector(".alert");if(!r)throw new Error("Le composant alert n'est pas défini");r.classList.add("display"),r.classList.add(s);const n=r.querySelector("i");n&&n.classList.add(t);const i=r.querySelector(".alert-title");i&&(i.innerText=e);const o=r.querySelector("button");o&&o.addEventListener("click",()=>g(s,t)),setTimeout(()=>g(s,t),1500)}function g(a,e){const t=document.querySelector(".alert");if(!t)throw new Error("Le composant alert n'est pas défini");t.classList.remove("display"),t.classList.remove(a);const s=t.querySelector("i");s&&s.classList.remove(e);const r=t.querySelector(".alert-title");r&&(r.innerText="");const n=t.querySelector("button");n&&n.removeEventListener("click",n)}
